**NetworkStructures experimental software**

The software used to conduct the experimental study is based on a web application implementing the Model-View-Controller pattern using Microsoft .NET Framework (version 4.7.2) and a database connection to the SQL Server 2017 database management system developed using the Entity Framework object-relational mapper (version 6.2). The application is written in C# 7.3 and JavaScript languages. The client was functionally and visually designed using JQuery, Bootstrap 3 and D3.js. The website was hosted on a shared server from the provider "Centron" (http://www.centron.de) and delivered to connected players via ASP.NET.

Since deploying a (near) real-time, turn-based multiplayer application via a client-server system, which is the basis of common ASP.NET applications, is practically impossible, the core of the experimental application was implemented server-based within a SignalR hub (version 2.4.1). This controls round synchronization using a session-wide timer by exchanging appropriate signals (more precisely: Remote Procedure Calls, RPC) on a birectional connection between the server and each connected client browser.

In this context, the SignalR library is of particular importance, since in principle it cannot be ensured that all recruited participants of a multi-user experiment are connected to the server via a browser that supports WebSockets transport, currently the most powerful transport model. SignalR enables the establishment of a bidirectional connection between .NET code on a server and JavaScript code of a web application in any popular browser by checking which transport mechanism can be used when establishing the connection. If the client browser does not support the HTML5 standard or does not fully support it, SignalR can fall back on older transports to synchronize the multiplayer system, even if participants are connected through older browsers that do not support WebSockets.

*Settings*

The application can implement a large number of variations of the described paradigm through a variety of settings - group size, number of rounds, images for items used, number of items, payoff and noise specifications, extent and duration of visibility of patterns and scores of all players or any subgroups, various options in graphical representation of score history, specification of maximum time to submit a solution. In addition, an experiment can be localized with a suitable editor, i.e. conducted in any language.

*Program flow*

As soon as a potential player connects to the website at a given time via a sent link with a special ID, the application first checks if there is a current session. If there is no current session with a free seat for another player, a new session is created and the person is added as the first player, otherwise - if the number of teammates is less than the scheduled number - the person is assigned to the session and directed to a page called the "waiting room", where a counting down clock indicates the waiting time until the latest possible start of the experiment. If all scheduled participants have registered by this time, the experiment will begin immediately after the last required participant has registered. If the number of scheduled participants is not reached, but a minimum number to be specified in the settings is connected, all unoccupied seats are filled by "virtual" players, for whom the application simulates user behavior according to a predefined plan, and the experiment is also started. If the number of connected "real" players is less than the required minimum number at the time the waiting period expires, the application is terminated and the players waiting at that time are prompted to reconnect at another time assigned to them by the experiment administrators.

The experiment session consists of a number of runs specified in the settings. The display of the experiment screen begins with an RPC call to a JavaScript function in the waiting room display page, which calls a controller function that passes the experiment view from the server to the client browser. From this point on, the flow of the experiment is controlled by a session-wide timer on the server. Queries are also sent to the database at regular intervals to verify that all players have sent data. If all clients complete a round quickly, this could drastically reduce the wait time until the next round begins.

If player data is missing after the current round is completed, it is automatically determined from previous rounds for the next round and entered into the database before the next round is started. To ensure synchronization, the data required for display on a client is also transferred with the start call. The processing of all actions in the browser is handled by JavaScript functions.
Since it cannot be verified that the use of a server-controlled timer can guarantee that the editing options are actually available to the user for a certain period of time, the start of the display, the end of the editing phase and the end of the display of the experiment screen are controlled by a JavaScript timer. At the end of the round, this timer also reads all collected data from specially created hidden controls and sends it back to the server via SignalR, which processes it and writes it to the database.

*Application monitoring and data output*.

In a special administration area of the application, an investigator can both fully trace the history of past sessions and monitor the progress of a session in real time. To this end, the administration view establishes a bi-directional connection to the server via SignalR, allowing it to view all data sent and received by clients and the server, and to check the status of a session. Finally, a special hierarchical view of the processed data from the database allows viewing and downloading detailed information about each action performed by a specific user in a round, as well as the corresponding aggregated data of a single subject or the entire study.

*Source code availability*

Source code for the application will be made available at http://github.com/sciencec/networkstructures/ as of the publication date of the journal article.
